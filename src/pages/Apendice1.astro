


<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 via-blue-700 to-cyan-600">
	<div class="bg-blue-950 bg-opacity-80 rounded-2xl shadow-2xl p-10 w-full max-w-4xl border border-blue-800">
		<h1 class="text-3xl font-bold mb-8 text-cyan-200 text-center drop-shadow">Apéndice 1 Diario – Permisos</h1>
		<div class="overflow-x-auto">
			<table id="apendice1Table" class="display min-w-full border border-gray-300 rounded-2xl shadow bg-white">
				<thead class="bg-gray-100">
					<tr>
						<th>ID</th>
						<th>Clave</th>
						<th>Descripción</th>
						<th>Patrón</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
		</div>
	</div>
</div>
<link rel="stylesheet" href="/datatables.min.css" />
<script src="/jquery.min.js" is:inline></script>
<script src="/datatables.min.js" is:inline></script>
<script is:inline>
	document.addEventListener('DOMContentLoaded', function() {
		fetch('/api/permisos')
			.then(res => res.json())
			.then(data => {
				const tbody = document.querySelector('#apendice1Table tbody');
				tbody.innerHTML = '';
				data.forEach(row => {
					tbody.innerHTML += `<tr>
						<td>${row.id ?? ''}</td>
						<td>${row.clave ?? ''}</td>
						<td>${row.descripcion ?? ''}</td>
						<td>${row.patron ?? ''}</td>
					</tr>`;
				});
				if (window.jQuery && window.jQuery.fn.DataTable) {
					window.jQuery('#apendice1Table').DataTable();
				}
			});
	});
</script>
